FINAL IMPLEMENTATION: Agent-Aware Review Mode
==============================================

CHANGES MADE
------------
1. Start screen with proper instructions about agent sessions
2. Check for agent session using worktree name (tmux has-session)
3. Attach to agent session if exists (see agent work)
4. Create review session only if no agent exists (browse files)
5. Never kill agent sessions, only temporary review sessions

CODE DIFF SUMMARY
-----------------
Before: get_session_for_worktree(wt_path) - wrong, looks for session IN path
After:  tmux has-session -t wt_name - correct, session NAME is worktree name

Before: Always created new review session
After:  Only creates if agent session doesn't exist

Before: Could kill any session
After:  Only kills sessions starting with "review-"

USER FLOW
---------
$ aio review

ğŸ“‹ REVIEW MODE - 19 worktrees need review
============================================================

ğŸ“– Instructions:
  1. Opens agent session if available (codex/claude/gemini output)
  2. Review agent's work, then detach: Ctrl+B then D
  3. Inspect files: l=ls g=git d=diff h=log t=terminal v=vscode
  4. Take action: 1=push+delete 2=delete 3=keep 4=stop

Press Enter to start review... [ENTER]

[1/19] aios-codex-20251104-144844-single
Age: 4d 9h
ğŸ¤– Found agent session: aios-codex-20251104-144844-single
ğŸ’¡ Review agent output, then detach: Ctrl+B D
Opening: /home/seanpatten/projects/aiosWorktrees/aios-codex...

[ATTACHES TO CODEX SESSION - User sees agent conversation]

[User detaches with Ctrl+B D]

ğŸ“ Inspect: l=ls  g=git-status  d=diff  h=log  t=terminal  v=vscode
ğŸ¯ Action: 1=push+del  2=delete  3=keep  4=stop
Choice: _

KEY FEATURES
------------
1. **Agent Detection**: Checks tmux has-session -t worktree_name
2. **Visual Indicators**:
   - ğŸ¤– = Agent session (conversation/output)
   - ğŸ“ = No agent (file browser only)
3. **Session Preservation**: Never kills agent sessions
4. **Clear Instructions**: Tells user they'll see agent output

LIBRARY FUNCTIONS USED
----------------------
- sp.run(['tmux', 'has-session', '-t', name])
- sp.run(['tmux', 'attach-session', '-t', name])
- sp.run(['tmux', 'new-session', '-d', '-s', name])
- str.startswith('review-')

BENEFITS
--------
1. See agent's full conversation and reasoning
2. Understand errors and how they were resolved
3. Verify agent completed the task correctly
4. Continue conversation with running agents
5. Make informed decisions about push/delete

TESTING
-------
âœ… Syntax verified
âœ… Agent session detection working
âœ… Review session creation working
âœ… Cleanup logic preserves agent sessions
âœ… Instructions updated for clarity

The review mode now properly shows the AGENT'S WORK, not just files!