<!DOCTYPE html>
<html>
<head>
<title>AutoLLM</title>
<style>
body{{font-family:monospace;background:{bg};color:{fg};padding:20px;max-width:1200px;margin:0 auto}}
.worktree{{background:{bg2};padding:15px;margin:10px 0;border-radius:5px}}
.status{{font-weight:bold;color:#fa0}}
.running{{color:#0f0}}
.review{{color:#ff0}}
.done{{color:#888}}
button{{background:{fg};color:{bg};border:none;padding:8px 16px;cursor:pointer;border-radius:3px;margin:5px}}
input{{background:{bg2};color:{fg};border:1px solid {fg};padding:8px;margin:5px;border-radius:3px}}
.grid{{display:grid;grid-template-columns:1fr 1fr 1fr;gap:20px;margin:20px 0}}
</style>
</head>
<body>
<div style="margin-bottom:20px"><a href="/" style="padding:10px;background:{fg};color:{bg};border-radius:5px;text-decoration:none">Back</a></div>
<h1>AutoLLM Worktree Manager</h1>
<form action="/autollm/run" method="POST">
<input name="repo" placeholder="Repository path" value="/home/seanpatten/projects/testRepoPrivate">
<input name="branches" placeholder="Number of branches" value="1" style="width:150px">
<select name="model" style="padding:8px;margin:5px;border-radius:3px;background:{bg2};color:{fg};border:1px solid {fg}">
<option value="claude-3-5-sonnet-20241022">Claude 3.5 Sonnet</option>
<option value="claude-dangerous">Claude (--dangerously-skip-permissions)</option>
<option value="gpt-4">GPT-4</option>
<option value="gpt-5-codex">GPT-5 Codex</option>
</select>
<select name="preset" style="padding:8px;margin:5px;border-radius:3px;background:{bg2};color:{fg};border:1px solid {fg}" onchange="document.getElementsByName('task')[0].value=this.value">
<option value="">Select preset...</option>
<option value="Simplify and optimize this code">Simplify Code</option>
<option value="Add comprehensive tests">Add Tests</option>
<option value="Fix bugs and improve error handling">Fix Bugs</option>
<option value="Add type hints and documentation">Add Docs</option>
<option value="Refactor for better performance">Optimize Performance</option>
</select>
<input name="task" placeholder="Task description" style="width:400px">
<button type="submit">Launch Worktrees</button>
</form>
<div id="c">
<div class="grid">
<div>
<h2>Running</h2>
<div>{running_worktrees}</div>
</div>
<div>
<h2>Review</h2>
<div>{review_worktrees}</div>
</div>
<div>
<h2>Done</h2>
<div>{done_worktrees}</div>
</div>
</div>
</div>
<form action="/autollm/clean" method="POST">
<button>Clean Done Worktrees</button>
</form>
</body>
</html>
